html,body {
  height:100%;
  margin:0;
  background:gray;
  color:#eee;
  font-family:sans-serif;
  overscroll-behavior-y: contain;
  touch-action: none;
}
#bar {
position:relative;
top:0;
	z-index:100;
  display: flex;
  flex-wrap: wrap;       /* allow wrapping on small screens */
  gap: 0.5rem;
  align-items: center;
  justify-content: center;
  padding: 0.5rem;
  border-bottom: 0px solid #ccc;
}


#bar button{
  flex: 1 1 auto;
  min-width:auto;
  padding: 0.3rem;
  border-radius: 6px;
  background: lightgray;
  cursor: pointer;
  text-align: center;
}

#bar button:hover {
  background: #e0e0e0;
}

/* Grouped color tools */
.group {
	background-color: rgba(255, 255, 255, 0.5);
	padding:3px;
	border-radius:5px;
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
  justify-content: center;
}

.group button,
.group label {
	
  flex: 0 1 auto;
/*  min-width: 40px;*/
}



#url {
  width: 100px;
}


label {
  display:flex;
  flex-direction:column;
/*  font-size:12px;*/
}

input[type=color] {
  width:32px;
  padding:0;
  border:none;
}
#settings{text-align:center;width:200px;z-index:20;position:fixed;bottom:90px;left:10px;background-color:lightgray;color:black;padding:10px;border-radius:5px;font-size:12px;transition: 0.3s;}
#settings button{
width:auto;
margin-top:5px;
}

input[type=number] {
 appearance: textfield;
 width:100px;
 font-size:18px;
}
.anchor-controls {
 display: grid;
 grid-template-columns: auto auto auto;
 grid-template-rows: auto auto auto;
 gap: 0px;
 align-items: center;
 margin-top: 10px;
}
.anchor-controls button {
 width: 32px;
 height: 32px;
 font-size: 12px;
 cursor: pointer;
}
.anchor-controls button:hover {
 background: #ddd;
}
/* Place buttons in grid like CSP anchor */
#resizeTop    { grid-column: 2; grid-row: 1; }
#resizeLeft   { grid-column: 1; grid-row: 2; }
#resizeCenter { grid-column: 2; grid-row: 2; }
#resizeRight  { grid-column: 3; grid-row: 2; }
#resizeBottom { grid-column: 2; grid-row: 3; }			
				
/* Toggle button */
.panel-bottom {
	position: fixed;
	bottom: 50px;
	left: 10px;
	z-index: 100000000;
	color: black;
	cursor: pointer;
}
  
#line {
  position:fixed;   /* stick to viewport */
  bottom:0;         /* anchor at bottom */
  left:0;
  right:0;
  z-index:20;      /* above canvas */
  background:#444;
  padding:8px;
  display:flex;
  gap:4px;
  overflow-x:auto;
  justify-content:left;
}
.f {
  width:40px;
  background:#666;
  border:2px solid #999;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}

.f.active {
  border-color:#0f0;
}

#stage {
	z-index:-1;
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  display:flex;
  align-items:center;
  justify-content:center;
  
}

#stack {
/*border:1px solid white;*/
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%) scale(1);
  background-color:white;
}

#checkerboard {
  /* Transparent checkerboard background */
  background-image: 
    linear-gradient(45deg, #ddd 25%, transparent 25%),
    linear-gradient(-45deg, #ddd 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #ddd 75%),
    linear-gradient(-45deg, transparent 75%, #ddd 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;

  /* Make sure canvas itself stays transparent */
  background-color: transparent;
}

canvas {
  position:absolute;
  top:0;
  left:0;
  cursor:crosshair;
}

#stack canvas {
  position:absolute;
  top:0;
  left:0;
}
#overlay {
  pointer-events:none; /* overlay won't block mouse events */
}


#bg {
  z-index:0;
/*  background:#fff;*/
}

#draw {
  z-index:0;
  image-rendering: pixelated;
  image-rendering: crisp-edges; /* fallback for some browsers */
}

/* Mobile tweak: stack vertically */
@media (max-width: 600px) {
.BrushPanel{display: flex;bottom:55px;position:fixed;flex-direction: column; gap:5px;}

}

/*Slider*/

.sliders{
position:fixed;
bottom:90px;
left:10px;
}

/*DRAG BUTTONS*/
:root {
    --btn-bg: rgba(255, 255, 255, 0.5);
    --btn-bg-active: #111827;
    --btn-text: black;
    --btn-border: #374151;
    --btn-focus: #3b82f6;
  }

  .control {
    display: flex;
    align-items: center;
    margin: 5px 0;
    gap: 5px;
  }

  .control-label {
    color: #111827;
    min-width: 80px;
  }

  .drag-btn {
    appearance: none;
    border: none;
    background-color: var(--btn-bg);
    color: var(--btn-text);
    border-radius: 8px;
    padding: 10px 16px;
/*    font: 600 16px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;*/
    cursor: ew-resize; /* left/right drag */
    user-select: none;
    touch-action: none;
    transition: background 120ms ease, box-shadow 120ms ease, transform 60ms ease;
    width: 48px;
    text-align: center;
    position: relative;
  }

  .drag-btn:focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in oklab, white 0%, var(--btn-focus) 100%);
  }

  .drag-btn.dragging {
    background: var(--btn-bg-active);
/*    transform: scale(0.98);*/
  }

  .value-display {
    font-size: 16px;
    font-weight: 600;
    pointer-events: none;
  }

  .value-input {
    display: none;
    width: 60px;
    padding: 2px;
    border: 1px solid var(--btn-border);
    border-radius: 4px;
    text-align: center;
    font-size: 14px;
  }

  .editing .value-display {
    display: none;
  }
  .editing .value-input {
    display: inline-block;
  }

